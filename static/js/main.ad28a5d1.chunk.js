(window["webpackJsonptest-game"]=window["webpackJsonptest-game"]||[]).push([[0],{104:function(e,r,t){e.exports=t(231)},109:function(e,r,t){},110:function(e,r,t){},21:function(e,r,t){e.exports={form:"StartGameReduxForm_form__2bAZj",gameMode:"StartGameReduxForm_gameMode__2aIYR",name:"StartGameReduxForm_name__2YJg4",playBtn:"StartGameReduxForm_playBtn__30pq3"}},22:function(e,r,t){e.exports={LeadersList:"LeaderBoard_LeadersList__xBpIQ",list:"LeaderBoard_list__BINEJ",li:"LeaderBoard_li__1cSFZ",winner:"LeaderBoard_winner__YrddB",date:"LeaderBoard_date__2xonO"}},229:function(e,r,t){},230:function(e,r,t){},231:function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),s=t(38),o=t.n(s),i=(t(109),t(110),t(90)),u=t(91),c=t(101),l=t(92),m=t(102),d=t(93),p=t.n(d),f=t(14),b=t(95),v=t(96).create({baseURL:"http://starnavi-frontend-test-task.herokuapp.com/",headers:{}}),E=function(){return v.get("winners").then((function(e){return e.data}))},g=function(){return v.get("game-settings").then((function(e){return e.data}))},S=function(e,r){return v.post("winners",{winner:e,date:r}).then((function(e){return e}))};function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(t,!0).forEach((function(r){Object(b.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var q={numbersquares:null,squares:[],numberOfClicking:null,numberOfOverTime:null,winners:null,settings:null,restart:!1},k=function(e){return{type:"SET-WINNERS",winners:e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"SET-NUMBER-SQUARES":return O({},e,{numbersquares:r.numberSquares});case"SET-SQUARES":return O({},e,{squares:function(){for(var r=[],t=e.numbersquares;t>0;t--)r.push({id:t,active:!1,clicked:!1,timeIsOver:!1});return r}()});case"RANDOM-SQUARES":return O({},e,{squares:e.squares.map((function(e){return e.id===r.id?O({},e,{active:!0}):e}))});case"CLICKED-SQUARES":return O({},e,{squares:e.squares.map((function(e){return e.id===r.id?O({},e,{clicked:!0}):e})),numberOfClicking:e.numberOfClicking+1});case"SET-TIME-IS-OVER":return O({},e,{squares:e.squares.map((function(e){return e.id===r.id?O({},e,{timeIsOver:!0}):e})),numberOfOverTime:++e.numberOfOverTime});case"SET-WINNERS":return O({},e,{winners:r.winners});case"SET-SETTINGS":return O({},e,{settings:O({},r.settings)});case"RESTART-GAME":return O({},e,{numbersquares:null,squares:e.squares.map((function(e){return O({},e,{active:null,clicked:null,timeIsOver:null})})),numberOfClicking:null,numberOfOverTime:null,restart:r.restart});default:return e}},w=t(21),y=t.n(w),A=t(233),M=t(232),T=Object(M.a)({form:"Game"})((function(e){return a.a.createElement("form",{onSubmit:e.handleSubmit,className:y.a.form},a.a.createElement(A.a,{name:"gameMode",component:"select",className:y.a.gameMode},a.a.createElement("option",null,"Pick game mode"),a.a.createElement("option",null,"Hard"),a.a.createElement("option",null,"Medium"),a.a.createElement("option",null,"Easy")),a.a.createElement(A.a,{component:"input",placeholder:"Please write your name",name:"name",className:y.a.name}),e.restart?a.a.createElement("button",{className:y.a.playBtn},"PLAY AGAIN"):a.a.createElement("button",{className:y.a.playBtn},"PLAY"))}));t(229),t(230);function I(e){return a.a.createElement("button",{className:"square".concat(e.clicked?"click":""),disabled:void 0===e.color||e.timeIsOver,onClick:function(){e.clickedSquaresAC(e.id)},style:{backgroundColor:e.color}})}function _(e){return a.a.createElement("div",{className:function(){switch(e.numbersquares){case 25:return"boardEasy";case 100:return"boardMedium";case 225:return"boardHard";default:return""}}()},e.squares.map((function(r){return a.a.createElement(I,{key:r.id,id:r.id,color:e.getSquareColor(r),clicked:r.clicked,clickedSquaresAC:e.clickedSquaresAC,timeIsOver:r.timeIsOver})})))}var N=t(22),R=t.n(N);function j(e){var r=e.winners.map((function(e){return a.a.createElement("li",{className:R.a.li,key:e.id},a.a.createElement("span",{className:R.a.winner},e.winner)," ",a.a.createElement("span",{className:R.a.date},e.date))}));return a.a.createElement("div",{className:R.a.LeadersList},a.a.createElement("h1",null,"Leader Board"),a.a.createElement("ul",{className:R.a.list},r))}var B=t(98),L=t.n(B),P=t(99),G=t.n(P),Y=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:G.a,alt:"louder",className:L.a.loader}))},x=t(58),D=t.n(x),U=function(e){function r(){var e;return Object(i.a)(this,r),(e=Object(c.a)(this,Object(l.a)(r).call(this))).startGame=function(r){var t,n,a;if(e.props.restartGameAC(!0),void 0!==r.name){switch(r.gameMode){case"Easy":n=e.props.settings.easyMode.delay,a=e.props.settings.easyMode.field*e.props.settings.easyMode.field,e.props.setNumberSquaresAC(a);break;case"Medium":n=e.props.settings.normalMode.delay,a=e.props.settings.normalMode.field*e.props.settings.normalMode.field,e.props.setNumberSquaresAC(a);break;case"Hard":n=e.props.settings.hardMode.delay,a=e.props.settings.hardMode.field*e.props.settings.hardMode.field,e.props.setNumberSquaresAC(a);break;default:return void alert("Please choose game mode")}var s;e.props.setSquaresAC();!0===e.props.restart&&e.intervalIds.forEach((function(e){return clearInterval(e)})),s=setInterval((function(){var n=Math.ceil(e.props.squares.length/2)===e.props.numberOfClicking,a=Math.ceil(e.props.squares.length/2)===e.props.numberOfOverTime-e.props.numberOfClicking;if(n){var o=D()().format("HH:mm; DD MMMM  YYYY");return e.props.putWinnerThunkCreator(r.name,o),alert("You have won"),void clearInterval(s)}if(a){var i=D()().format("HH:mm; DD MMMM  YYYY");return e.props.putWinnerThunkCreator("Computer",i),alert("Computer have won"),void clearInterval(s)}var u=e.getRandomId();e.props.randomSquaresAC(u),t&&e.props.setTimeIsOverAC(t),t=u}),n),e.intervalIds.push(s)}else alert("Please write your name")},e.intervalIds=[],e}return Object(m.a)(r,e),Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.getWinnersThunkCreator(),this.props.getSettingsThunkCreator()}},{key:"getRandomId",value:function(){var e=this.props.squares.filter((function(e){return!1===e.active})).map((function(e){return e.id}));return e[Math.floor(Math.random()*e.length)]}},{key:"getSquareColor",value:function(e){var r,t=e.active,n=e.clicked,a=e.timeIsOver;return!t||n||a?t&&!n&&a&&(r="red"):r="blue",r}},{key:"render",value:function(){return this.props.winners?a.a.createElement("div",{className:p.a.main},a.a.createElement(T,{onSubmit:this.startGame,restart:this.props.restart}),a.a.createElement(_,{squares:this.props.squares,getSquareColor:this.getSquareColor,clickedSquaresAC:this.props.clickedSquaresAC,numbersquares:this.props.numbersquares}),a.a.createElement(j,{winners:this.props.winners})):a.a.createElement(Y,null)}}]),r}(a.a.Component),Q={setNumberSquaresAC:function(e){return{type:"SET-NUMBER-SQUARES",numberSquares:e}},setSquaresAC:function(){return{type:"SET-SQUARES"}},randomSquaresAC:function(e){return{type:"RANDOM-SQUARES",id:e}},setTimeIsOverAC:function(e){return{type:"SET-TIME-IS-OVER",id:e}},clickedSquaresAC:function(e){return{type:"CLICKED-SQUARES",id:e}},getWinnersThunkCreator:function(){return function(e){E().then((function(r){return e(k(r))}))}},getSettingsThunkCreator:function(){return function(e){g().then((function(r){return e({type:"SET-SETTINGS",settings:r})}))}},putWinnerThunkCreator:function(e,r){return function(t){S(e,r).then((function(e){200===e.status&&t(k(e.data))}))}},restartGameAC:function(e){return{type:"RESTART-GAME",restart:e}}},W=Object(f.b)((function(e){return{numbersquares:e.board.numbersquares,squares:e.board.squares,numberOfClicking:e.board.numberOfClicking,numberOfOverTime:e.board.numberOfOverTime,winners:e.board.winners,settings:e.board.settings,restart:e.board.restart}}),Q)(U);var F=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(W,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=t(5),J=t(234),V=t(100),K=Object(H.c)({form:J.a,board:C}),Z=Object(H.d)(K,Object(H.a)(V.a));window.store=Z;var $=Z;o.a.render(a.a.createElement(f.a,{store:$},a.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},93:function(e,r,t){e.exports={main:"BoardContainer_main__2f1Pt"}},98:function(e,r,t){e.exports={loader:"Loader_loader__1wVrF"}},99:function(e,r,t){e.exports=t.p+"static/media/Spinner-1s-200px.b34c8640.svg"}},[[104,1,2]]]);
//# sourceMappingURL=main.ad28a5d1.chunk.js.map